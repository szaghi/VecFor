import{_ as a,o as i,c as t,a2 as e}from"./chunks/framework.Co-JkuWq.js";const k=JSON.parse('{"title":"Installation","description":"","frontmatter":{"title":"Installation"},"headers":[],"relativePath":"guide/installation.md","filePath":"guide/installation.md"}'),n={name:"guide/installation.md"};function l(p,s,r,h,d,o){return i(),t("div",null,[...s[0]||(s[0]=[e(`<h1 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation" aria-label="Permalink to &quot;Installation&quot;">​</a></h1><h2 id="prerequisites" tabindex="-1">Prerequisites <a class="header-anchor" href="#prerequisites" aria-label="Permalink to &quot;Prerequisites&quot;">​</a></h2><p>A Fortran 2003+ compliant compiler is required. The following compilers are known to work:</p><table tabindex="0"><thead><tr><th>Compiler</th><th>Minimum version</th></tr></thead><tbody><tr><td>GNU gfortran</td><td>≥ 4.9.2</td></tr><tr><td>Intel Fortran (ifort)</td><td>≥ 12.x</td></tr><tr><td>NVIDIA nvfortran</td><td>recent</td></tr></tbody></table><p>VecFor is developed on GNU/Linux. Windows should work out of the box but is not officially tested.</p><h2 id="download" tabindex="-1">Download <a class="header-anchor" href="#download" aria-label="Permalink to &quot;Download&quot;">​</a></h2><p>Clone the repository and fetch the <a href="https://github.com/szaghi/PENF" target="_blank" rel="noreferrer">PENF</a> dependency automatically with FoBiS.py:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/szaghi/VecFor</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> VecFor</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fetch</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # downloads PENF into src/third_party/</span></span></code></pre></div><h3 id="minimal-manual-download" tabindex="-1">Minimal manual download <a class="header-anchor" href="#minimal-manual-download" aria-label="Permalink to &quot;Minimal manual download&quot;">​</a></h3><p>A minimal installation requires only <code>src/lib/vecfor.F90</code> (and PENF sources). The file can be copied directly into your project and compiled alongside your code.</p><h3 id="repository-structure" tabindex="-1">Repository structure <a class="header-anchor" href="#repository-structure" aria-label="Permalink to &quot;Repository structure&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>├── fobos                   # FoBiS.py build configuration</span></span>
<span class="line"><span>├── makefile                # Simple GNU make build</span></span>
<span class="line"><span>├── src/</span></span>
<span class="line"><span>│   ├── lib/</span></span>
<span class="line"><span>│   │   ├── vecfor.F90      # Master module (re-exports all precisions)</span></span>
<span class="line"><span>│   │   ├── vecfor_RPP.INC  # Implementation template (included by precision modules)</span></span>
<span class="line"><span>│   │   ├── vecfor_R4P.F90  # 32-bit precision variant</span></span>
<span class="line"><span>│   │   ├── vecfor_R8P.F90  # 64-bit precision variant</span></span>
<span class="line"><span>│   │   └── vecfor_R16P.F90 # 128-bit precision variant (optional)</span></span>
<span class="line"><span>│   ├── tests/</span></span>
<span class="line"><span>│   │   ├── simple.f90      # Basic usage example</span></span>
<span class="line"><span>│   │   └── kinds.f90       # Operator coverage test (all numeric kinds)</span></span>
<span class="line"><span>│   └── third_party/</span></span>
<span class="line"><span>│       └── PENF/           # Kind parameter definitions (fetched by FoBiS.py)</span></span>
<span class="line"><span>└── scripts/</span></span>
<span class="line"><span>    └── run_tests.sh        # Test runner</span></span></code></pre></div><h2 id="build-with-make-simplest" tabindex="-1">Build with <code>make</code> (simplest) <a class="header-anchor" href="#build-with-make-simplest" aria-label="Permalink to &quot;Build with \`make\` (simplest)&quot;">​</a></h2><p>The plain <code>makefile</code> builds a static library using gfortran:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                # produces static/vecfor.a</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clean</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          # remove object files</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cleanall</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">       # full clean</span></span></code></pre></div><p>Output:</p><table tabindex="0"><thead><tr><th>Path</th><th>Contents</th></tr></thead><tbody><tr><td><code>static/vecfor.a</code></td><td>Static library archive</td></tr><tr><td><code>static/mod/</code></td><td>Fortran module files (<code>.mod</code>)</td></tr><tr><td><code>static/obj/</code></td><td>Object files</td></tr></tbody></table><h2 id="build-with-fobis-py" tabindex="-1">Build with FoBiS.py <a class="header-anchor" href="#build-with-fobis-py" aria-label="Permalink to &quot;Build with FoBiS.py&quot;">​</a></h2><p><a href="https://github.com/szaghi/FoBiS" target="_blank" rel="noreferrer">FoBiS.py</a> supports multiple compilers and build variants.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> FoBiS.py</span></span></code></pre></div><h3 id="list-all-build-modes" tabindex="-1">List all build modes <a class="header-anchor" href="#list-all-build-modes" aria-label="Permalink to &quot;List all build modes&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -lmodes</span></span></code></pre></div><p>Available modes:</p><table tabindex="0"><thead><tr><th>Mode</th><th>Description</th></tr></thead><tbody><tr><td><code>vecfor-static-gnu</code></td><td>Static library, gfortran, release</td></tr><tr><td><code>vecfor-static-gnu-debug</code></td><td>Static library, gfortran, debug</td></tr><tr><td><code>vecfor-shared-gnu</code></td><td>Shared library, gfortran, release</td></tr><tr><td><code>vecfor-shared-gnu-debug</code></td><td>Shared library, gfortran, debug</td></tr><tr><td><code>vecfor-static-intel</code></td><td>Static library, ifort, release</td></tr><tr><td><code>vecfor-static-intel-debug</code></td><td>Static library, ifort, debug</td></tr><tr><td><code>vecfor-shared-intel</code></td><td>Shared library, ifort, release</td></tr><tr><td><code>vecfor-shared-intel-debug</code></td><td>Shared library, ifort, debug</td></tr><tr><td><code>vecfor-static-gnu-coverage</code></td><td>Static library, gfortran, coverage</td></tr></tbody></table><h3 id="build-the-library" tabindex="-1">Build the library <a class="header-anchor" href="#build-the-library" aria-label="Permalink to &quot;Build the library&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Static library (GNU gfortran, release)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vecfor-static-gnu</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Shared library (GNU gfortran, release)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vecfor-shared-gnu</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Static library (Intel Fortran, release)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vecfor-static-intel</span></span></code></pre></div><p>Library files are placed in <code>./static/</code> or <code>./shared/</code>.</p><h3 id="build-and-run-tests" tabindex="-1">Build and run tests <a class="header-anchor" href="#build-and-run-tests" aria-label="Permalink to &quot;Build and run tests&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Build test executables (release)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> src/tests/fobos</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Build test executables (debug)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> src/tests/fobos</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gnu-debug</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Run all tests</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./scripts/run_tests.sh</span></span></code></pre></div><p>Test executables are placed in <code>./exe/</code>. The script checks that each program prints <code>&quot;Are all tests passed?&quot;</code>.</p><h3 id="rules" tabindex="-1">Rules <a class="header-anchor" href="#rules" aria-label="Permalink to &quot;Rules&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rule</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ls</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                       # list all rules</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rule</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ex</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> makedoc</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">               # build API docs with FORD → doc/html/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rule</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ex</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> makecoverage</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          # build + run tests + gcov report</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rule</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ex</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> coverage-analysis</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     # coverage report saved to wiki/ as markdown</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FoBiS.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rule</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ex</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clean</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                 # clean all build artifacts</span></span></code></pre></div><h2 id="using-vecfor-in-your-project" tabindex="-1">Using VecFor in your project <a class="header-anchor" href="#using-vecfor-in-your-project" aria-label="Permalink to &quot;Using VecFor in your project&quot;">​</a></h2><p>Compile VecFor first, then link against the library and add the module directory to your compiler search path:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gfortran</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -I</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> static/mod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my_program</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my_program.f90</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> static/vecfor.a</span></span></code></pre></div><p>Or include the source directly (single-file approach):</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gfortran</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> src/lib/vecfor.F90</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D_R16P_SUPPORTED</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # optional quad-precision flag</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gfortran</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my_program</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my_program.f90</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vecfor.o</span></span></code></pre></div>`,37)])])}const F=a(n,[["render",l]]);export{k as __pageData,F as default};
